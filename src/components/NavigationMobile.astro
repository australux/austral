---
import Close from "./ui/Close.astro";
import Hamburger from "./ui/Hamburger.astro";
import Link from "./ui/Link.astro";
---

<div class="flex items-center md:hidden">
    <button id="open-btn">
        <Hamburger />
    </button>
    <div
        class="bg-[#101720] h-screen w-screen absolute top-0 -left-full z-50 flex flex-col items-center gap-2"
        id="menu"
    >
        <div class="w-full flex justify-end p-4">
            <button id="close-btn">
                <Close />
            </button>
        </div>
        <ol class="flex flex-col h-full justify-evenly">
            <Link href="/about" title="about" />
            <Link href="/blog" title="blog" />
            <Link href="/projects" title="projects" />
        </ol>
    </div>
</div>

<script is:inline data-astro-rerun>
    document.addEventListener("astro:page-load", () => {
        const menu = document.querySelector("#menu");
        const openBtn = document.querySelector("#open-btn");
        const closeBtn = document.querySelector("#close-btn");

        openBtn?.addEventListener("click", () => {
            menu.classList.remove("-left-full");
            menu.classList.add("-left-0");
        });

        closeBtn?.addEventListener("click", () => {
            menu.classList.remove("-left-0");
            menu.classList.add("-left-full");
        });
    });
</script>
